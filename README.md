# Проект на FastAPI з підтримкою системи Трембіта

## Опис
Цей проєкт входить в набір прикладів взаємодії з API шлюзу безпечного обміну системи Трембіта (ШБО), що демонструють технічні особливості розробки вебсервісів та вебклієнтів, сумісних з системою Трембіта. Даний проєкт представляє опис створення сумісного REST-сервісу на мові програмування Python з використанням фреймворку FastAPI. FastAPI - це сучасний, швидкий (високопродуктивний) web-фреймворк для побудови API з Python 3.10+ на основі стандартних асинхронних викликів. Проєкт підтримує систему Трембіта (логування заголовків).\
Приклад описує отримання з умовної бази даних (реєстру) відомостей про інформаційні об'єкти (у прикладі об'єктом є користувач) та управління їх статусом, у тому числі обробку запитів на пошук, отримання, створення, редагування та видалення об'єктів через REST API, що доступне через систему Трембіта.


## Вимоги
- Python 3.10+
- Git (для клонування репозиторію)
- MariaDB 10.5+
- Ubuntu Server 24.04

## Структура проєкту

Структура проєкту виглядає наступним чином:

```
FastAPI_trembita_service/
├── main.py                # Точка входу застосунку
├── config.ini             # Конфігурація проєкту
├── alembic.ini            # Конфігурація міграцій БД
├── utils/
│   ├── validations.py     # Валідація параметрів
│   ├── update_person.py   # Оновлення запису у БД
│   ├── get_person.py      # Пошук запису у БД за критерієм
│   ├── get_all_persons.py # Отримання всіх записів БД
│   ├── delete_person.py   # Видалення запису з БД
│   ├── create_person.py   # Створення запису у БД
│   └── config_utils.py    # Зчитування конфігураційного файлу
├── models/
│   └── person.py          # Моделі даних
├── migrations/
│   └── env.py             # Підключення моделей для Alembic
├── docs/                  # Документація з розгортання
├── requirements.txt       # Залежності проєкту
├── README.md              # Документація
├── deploy.sh              # Скрипт для автоматизації встановлення
├── remove.sh              # Скрипт для видалення сервісу та очищення системи
```

## Розгортання

- Для ручного розгортання дивіться [тут](./docs/manual_installation.md).
- Для розгортання за допомогою скрипта дивіться [тут](./docs/script_installation.md).
- Для розгортання у Docker дивіться [тут](./docs/docker_installation.md).
  sqlalchemy.url = mariadb+mariadbconnector://user:pass@localhost/dbname
  ```
  
## Видалення

Ми додали скрипт `remove.sh` для автоматизації процесу видалення сервісу та очищення системи.

### Використання скрипта remove.sh

1. Зробіть файл виконуваним:

   ```bash
   chmod +x remove.sh
   ```

2. Запустіть скрипт:

   ```bash
   ./remove.sh
   ```

Скрипт автоматично зупинить та видалить системний сервіс, видалить віртуальне середовище, клонований репозиторій та системні залежності.

## Внесок

Якщо ви хочете зробити свій внесок у проєкт, будь ласка, створіть форк репозиторію і відправте Pull Request.

## Ліцензія

Цей проект ліцензується відповідно до умов MIT License.
